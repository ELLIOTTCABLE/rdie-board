<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<!DOCTYPE html PUBLIC
    "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN"
    "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' debug='true'>
  <head profile='http://gmpg.org/xfn/11'>
    <meta http-equiv='Content-Type' content='application/xhtml+xml;charset=utf-8'/>
    <title>RDie Board Debugging File</title>
    <link rel='copyright' href='http://creativecommons.org/licenses/by-nc-sa/3.0/' type='text/html;charset=utf-8'/>
    <link rel='stylesheet' type='text/css' href='main.css'/>
    
    <script type='text/javascript'>
      // <![CDATA[
        var SVG_NS = 'http://www.w3.org/2000/svg';
      // ]]>
    </script>
  </head>
  <body>
    <div id="everything">
      <svg id='board' viewBox='0 0 400 400' width='50em' height='50em' zoomAndPan='disable' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>
        <svg id='map' viewBox='-1000 -1000 2000 2000' width='100%' height='100%' zoomAndPan='disable' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>
          <desc>RDie Board Debugging File</desc>
          <g id="tiles">
            <g class="grass tile" transform="translate(0,0)" id="tile:0.0">
              <rect x="0" y="0" width="100" height="100" class="background"/>
            </g>
            <g class="grass tile" transform="translate(-100,0)" id="tile:-1.0">
              <!-- background should be inserted here -->
            </g>
            <g class="grass tile" transform="translate(0,-100)" id="tile:0.-1">
              <!-- background should be inserted here -->
            </g>
            <g class="grass tile" transform="translate(-100,-100)" id="tile:-1.-1">
              <!-- background should be inserted here -->
            </g>
          </g>
          <script type="text/javascript">
            // <![CDATA[
              // First we'll try copying the body from 0.0 to -1.0 - works fine.
              document.getElementById("tile:-1.0").appendChild(document.getElementById("tile:0.0").childNodes[1].cloneNode(false));
              
              // Now we'll try creating a new body for 0.-1 from a string with the DOMParser - creates an 'invisible' element.
              document.getElementById("tile:0.-1").appendChild(new DOMParser().parseFromString('<rect x="0" y="0" width="100" height="100" class="background"/>', "text/xml").documentElement);
              
              // Finally, we'll try Jquery - no effect whatsoever.
              $('tile:0.0').append('<rect x="0" y="0" width="100" height="100" class="background"/>');
            // ]]>
          </script>
        </svg>
      </svg>
    </div>
  </body>
</html>